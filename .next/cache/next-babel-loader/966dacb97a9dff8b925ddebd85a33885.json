{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/ryanwolton/Projects/url-shortening-service/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useRef } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport URLService from '../utils/URLService';\nimport TextInput from '../components/TextInput';\nimport Button from '../components/Button';\nimport '../styles.scss';\n\nvar URLShortening = function URLShortening() {\n  var _useState = useState(\"\"),\n      inputText = _useState[0],\n      setInputText = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      shortUrl = _useState2[0],\n      setShortUrl = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var shortenUrl =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var url_service, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url_service = new URLService();\n              setInputText(\"\");\n              setLoading(true);\n              _context.prev = 3;\n              _context.next = 6;\n              return url_service.shorten(inputText);\n\n            case 6:\n              res = _context.sent;\n              setLoading(false);\n              setShortUrl(res.data.link);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](3);\n              console.log(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 11]]);\n    }));\n\n    return function shortenUrl() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(React.Fragment, null, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Shorten a URL!\"), __jsx(TextInput, {\n    onChange: function onChange(e) {\n      setInputText(e.target.value);\n    },\n    placeholder: \"The URL to shorten\",\n    value: inputText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), __jsx(Button, {\n    title: \"Go!\",\n    onClick: function onClick() {\n      return shortenUrl(inputText);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), shortUrl && __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, shortUrl), loading && __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, __jsx(FontAwesomeIcon, {\n    icon: faSpinner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  })));\n};\n\nexport default URLShortening;","map":{"version":3,"sources":["/Users/ryanwolton/Projects/url-shortening-service/pages/index.js"],"names":["React","useState","useRef","FontAwesomeIcon","faSpinner","URLService","TextInput","Button","URLShortening","inputText","setInputText","shortUrl","setShortUrl","loading","setLoading","shortenUrl","url_service","shorten","res","data","link","console","log","e","target","value"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,SAAT,QAA0B,mCAA1B;AAEA,OAAOC,UAAP,MAAuB,qBAAvB;AAEA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,OAAO,gBAAP;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AAAA,kBAEQP,QAAQ,CAAC,EAAD,CAFhB;AAAA,MAEnBQ,SAFmB;AAAA,MAERC,YAFQ;;AAAA,mBAGMT,QAAQ,CAAC,EAAD,CAHd;AAAA,MAGnBU,QAHmB;AAAA,MAGTC,WAHS;;AAAA,mBAIIX,QAAQ,CAAC,KAAD,CAJZ;AAAA,MAInBY,OAJmB;AAAA,MAIVC,UAJU;;AAM1B,MAAMC,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,cAAAA,WADW,GACG,IAAIX,UAAJ,EADH;AAEjBK,cAAAA,YAAY,CAAC,EAAD,CAAZ;AACAI,cAAAA,UAAU,CAAC,IAAD,CAAV;AAHiB;AAAA;AAAA,qBAKGE,WAAW,CAACC,OAAZ,CAAoBR,SAApB,CALH;;AAAA;AAKTS,cAAAA,GALS;AAMfJ,cAAAA,UAAU,CAAC,KAAD,CAAV;AACAF,cAAAA,WAAW,CAACM,GAAG,CAACC,IAAJ,CAASC,IAAV,CAAX;AAPe;AAAA;;AAAA;AAAA;AAAA;AASfC,cAAAA,OAAO,CAACC,GAAR;;AATe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVP,UAAU;AAAA;AAAA;AAAA,KAAhB;;AAaA,SACE,4BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,EAEE,MAAC,SAAD;AACE,IAAA,QAAQ,EAAE,kBAAAQ,CAAC,EAAI;AACbb,MAAAA,YAAY,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ;AACD,KAHH;AAIE,IAAA,WAAW,EAAC,oBAJd;AAKE,IAAA,KAAK,EAAEhB,SALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EASE,MAAC,MAAD;AACE,IAAA,KAAK,EAAC,KADR;AAEE,IAAA,OAAO,EAAE;AAAA,aAAMM,UAAU,CAACN,SAAD,CAAhB;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAaIE,QAAQ,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,QADH,CAdJ,EAmBIE,OAAO,IACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,eAAD;AAAiB,IAAA,IAAI,EAAET,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CApBJ,CADF;AA2BD,CA9CD;;AAgDA,eAAeI,aAAf","sourcesContent":["import React, { useState, useRef } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\n\nimport URLService from '../utils/URLService';\n\nimport TextInput from '../components/TextInput';\nimport Button from '../components/Button';\n\nimport '../styles.scss';\n\nconst URLShortening = () => {\n\n  const [inputText, setInputText] = useState(\"\");\n  const [shortUrl, setShortUrl] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const shortenUrl = async () => {\n    const url_service = new URLService();\n    setInputText(\"\");\n    setLoading(true);\n    try {\n      const res = await url_service.shorten(inputText);\n      setLoading(false);\n      setShortUrl(res.data.link);\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  return (\n    <>\n      <h1>Shorten a URL!</h1>\n      <TextInput \n        onChange={e => {\n          setInputText(e.target.value);\n        }} \n        placeholder=\"The URL to shorten\"\n        value={inputText}\n      />\n      <Button \n        title=\"Go!\"\n        onClick={() => shortenUrl(inputText)}\n      />\n      { shortUrl &&\n        <h1>\n          {shortUrl}\n        </h1>\n      }\n      {\n        loading && \n        <h1>\n          <FontAwesomeIcon icon={faSpinner}/>\n        </h1>\n      }\n    </>\n  )\n}\n\nexport default URLShortening;"]},"metadata":{},"sourceType":"module"}